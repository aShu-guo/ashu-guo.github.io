import{_ as p,o,c as e,b as c}from"./app-a46f6870.js";const i={},t=c("<p><strong>推送</strong></p><p>1.app端存在问题：ios端可在线、离线推送，但是安卓手机离线无法推送</p><p>2.小程序，会折叠在消息列表中</p><p>3.推送API</p><p>​ Android：小米，vivo、华为、魅族对接厂商API，其他品牌使用第三方推送</p><p>​ IOS：走uni-app提供api推送即可</p><blockquote><p>推送爬坑指南</p></blockquote><p>1.调试需要自定义基座</p><blockquote><p>安卓</p></blockquote><p>通知--在线：</p><p>1.在通知栏上展示；点击通知栏通知第一次进入触发click，第二次进入触发click &amp; receive</p><p>2.需要用户手动开启悬浮通知方可展示悬浮弹窗</p><p>通知--离线：接收不到</p><p>1.需要开启厂商通知</p><p>透传--在线：</p><p>1.会触发receive回调，但是不展示在通知栏上，即使生成原生通知，点击之后也不会触发click。需要手动处理添加到通知栏上</p><p>透传--离线：</p><p>1.会触发receive回调，但是不展示在通知栏上</p><blockquote><p>ios</p></blockquote><p>通知：</p><p>​ 在线：只触发receive</p><p>​ 离线：通过苹果的APNS通道发送，触发click事件</p><p>存在的问题：</p><p>1.用户下载完app之后，部分机型是默认开启通知的（例如：小米-android12），也存在机型是默认不开启的（例如华为，小米-android9，vivo）；而且默认不开启的机型也存在一部分会出现弹窗允许通知（例如：vivo），另外一部分不出现弹窗允许通知（例如：小米-android9）。</p><p>对于未出现弹窗允许通知的机型需要开发者自行定义弹窗</p><p>总之，是否默认开启通知权限与android版本不同关系不大，各厂商对android进行了国内适配，会导致android官方文档并不一定正确</p><blockquote><p>解决方案</p></blockquote><p>调用原生的方法，判断是否开启了悬浮弹窗，没有则给一个提示框，由用户选择。但是会存在一个问题，app不是在商店里下载的，而是下载的apk，跳转设置页面会存在问题。</p>",28),r=[t];function a(n,d){return o(),e("div",null,r)}const s=p(i,[["render",a],["__file","push.html.vue"]]);export{s as default};
