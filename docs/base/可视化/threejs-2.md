> ### 数学基础知识

---



> #### 向量 vector

---

```js
向量：既有方向，又有大小；从起点指向终点  n维向量可通过 n*1 矩阵表示。（在图形学中向量默认为列向量）
标量：只有大小，没有方向；
```

1.运算：
	**加：**平行四边形法则、三角形法则；(1,2)+(3,4)=(3,6)

​    **减：**(1,2)-(3,4)=(1,2)+(-3,-4)=(-2,-2)

​    **点积（点乘、数量积）：**两向量点乘返回的是一个标量（两向量长度与夹角的余弦），可以快速得到两向量之间的夹角  

```js
可知道两向量方向性
```

​    	(1,2)·(3,4)=1*3+2*4=11

​    	满足交换律、结合律、分配律

​      	二维向量：(a,b)· (c,d)=a*c +b*d 可以扩展到高维

​    **投影：**投影向量a到向量b上，长度为a向量长度与夹角余弦的乘积

```js
可用于向量分解
```

​    **叉乘：**返回的是一个新的向量，新向量的方向垂直于原来两个向量所在的平面 '推导'。叉乘的长度是平行四边形的面积

```js
符合右手螺旋定则，但不符合交换律
判定两向量的左右和内外(判断某点在模型内部还是外部)
```

​    **相等：**方向和大小相等

​    **模（长度）：**向量的长度

​    **单位向量：**长度为1的向量；坐标➗向量长度；可以只表示方向

​	**归一化：**将向量转换为长度为1的单位向量

````js
let vector1=[1,2]
let vector2=[2,3]
'加'
let add=[]
for(let i = 0; i < vector1.length; i++){
  add.push(vector1[i]+vector2[i])
}
console.log(add)

'点乘'
let pointMulti=0
for(let i = 0; i < vector1.length; i++){
  pointMulti+=vector1[i]*vector2[i]
}
console.log(pointMulti)

'模'
let vector1Length=
    Math.sqrt(vector1.reduce((total,currentValue)=>total+=Math.pow(currentValue,2),0))

```
点乘=两向量模*夹角的余弦
```
'归一化'
let normalizVector1=[]
vector1.map(item=>{normalizVector1.push(item/vector1Length)})

````



> #### 矩阵

----

1.运算：

​	加：两个相加的矩阵必须都是m\*n（同型），对应行列元素相加即可

​	减：两个相加的矩阵必须都是m\*n（同型），对应行列元素相减即可

​	乘：必须保证一个矩阵的列数为n，另外一个矩阵行数为n，m\*n矩阵 \* n\*o矩阵 = m\*o矩阵

 ```js
 x11,x12,x13 y11,y12   x11*y11+x12*y21+x13*y31,x11*y12+x12*y22+x13*y32
 x21,x22,x23 y21,y22 = x21*y11+x22*y21+x23*y31,x21*y12+x22*y22+x23*y32
 						y31,y32
 '输出矩阵x,y处的值  对应输入第一个矩阵x行的值与第二个矩阵y列的值相乘'
 ```

​	左乘：A\*B=C 称C为A左乘B的矩阵

​	矩阵与向量相乘：其实是矩阵与一阶矩阵相乘，本质是向量转换

​	矩阵与标量相乘：矩阵中每个值✖️标量

​	行列式

2.特殊矩阵：

​		旋转矩阵：在乘以一个向量的时候改变向量的方向但不改变大小的效果并保持了手性的矩阵

​		单位矩阵：从左上角到右下角对角线元素均为1的方阵

​		转置矩阵：矩阵的行向量转换为列向量

​		逆矩阵：A\*B=B\*A=I，I是单位矩阵，A是可逆矩阵，B是A的逆矩阵

   	 变换矩阵：将一个向量通过矩阵乘法，变换为另一个矩阵时，这个矩阵称为变换矩阵

​    	正交矩阵：一个矩阵左乘他的转置矩阵为单位矩阵时，这个矩阵称为正交矩阵；

​    	如果一个矩阵是正交矩阵，那么转置矩阵等于逆矩阵

3.行优先、列优先

​	参数的排列顺序



> #### 左手坐标系、右手坐标系

---

左手坐标系：大拇指朝右，食指朝上，其余手指朝前
判断规则：如果其余手指指向的是z轴方向，则为左手坐标系，反之为右手坐标系



> #### 坐标系

---

屏幕坐标系：x轴正方向朝右，y轴正方向朝下
齐次坐标系：用N+1维向量表示N维向量和N维坐标？

笛卡尔坐标转换为齐次坐标
(1,2)->(1,2,1) 
(1,2)->(1,2,0) 齐次坐标系下无穷远处的坐标
齐次坐标转换为笛卡尔坐标
(1,2,2)->(1/2,2/2)

1.模型坐标系--遵循右手坐标系，原点位置在模型中心 THREE.AxesHelper
2.世界坐标系--遵循右手坐标系，默认情况下世界坐标系与模型坐标系重合
3.观察坐标系--人眼或摄像机看到世界中的物体所在位置，原点是人眼或者相机，z轴是人眼或者相机垂直射出的一条线
4.裁剪坐标系--遵循左手坐标系，将观察坐标通过透视投影变换后得到的坐标，也即是gl_Position接收的坐标
5.NDC坐标系--遵循左手坐标系，坐标在[-1,1]之间
6.屏幕坐标系--视口变换，将[-1,1]之间的坐标映射到屏幕空间上



深度检测可以消除绘制顺序的影响，使图形根据z轴距离展示

![image-20220210115530235](/Users/ifugle/Library/Application Support/typora-user-images/image-20220210115530235.png)

> #### 空间

```js
1.欧式空间：中学学到的平面几何、立体几何，两平行线之间的距离相等
2.透视空间：两平行线会相交

```

